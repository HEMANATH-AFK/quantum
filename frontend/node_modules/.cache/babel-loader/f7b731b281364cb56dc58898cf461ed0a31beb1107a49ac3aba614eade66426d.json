{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KALAI\\\\Desktop\\\\Quantum\\\\frontend\\\\src\\\\screens\\\\UserEditScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport Loading from '../components/Loading';\nimport MessageBox from '../components/MessageBox';\nimport { getError } from '../utils';\nimport { useContext } from 'react';\nimport { Store } from '../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserEditScreen() {\n  _s();\n  const navigate = useNavigate();\n  const params = useParams();\n  const {\n    id: userId\n  } = params;\n  const {\n    state\n  } = useContext(Store);\n  const {\n    userInfo\n  } = state;\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [loadingUpdate, setLoadingUpdate] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        setLoading(true);\n        const {\n          data\n        } = await axios.get(`/api/users/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${userInfo.token}`\n          }\n        });\n        setName(data.name);\n        setEmail(data.email);\n        setIsAdmin(data.isAdmin);\n        setLoading(false);\n      } catch (err) {\n        setError(getError(err));\n        setLoading(false);\n      }\n    };\n    fetchUser();\n  }, [userId, userInfo]);\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      setLoadingUpdate(true);\n      await axios.put(`/api/users/${userId}`, {\n        name,\n        email,\n        isAdmin\n      }, {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      });\n      toast.success('User updated successfully');\n      navigate('/admin/users');\n    } catch (err) {\n      toast.error(getError(err));\n      setLoadingUpdate(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Edit User \", userId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n        type: \"checkbox\",\n        id: \"isAdmin\",\n        label: \"Is Admin\",\n        checked: isAdmin,\n        onChange: e => setIsAdmin(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: loadingUpdate,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(UserEditScreen, \"x27MtRov8sgZ0D+FrHABPdp5vEY=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = UserEditScreen;\nvar _c;\n$RefreshReg$(_c, \"UserEditScreen\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","useParams","Form","Button","toast","Loading","MessageBox","getError","useContext","Store","jsxDEV","_jsxDEV","UserEditScreen","_s","navigate","params","id","userId","state","userInfo","name","setName","email","setEmail","isAdmin","setIsAdmin","loading","setLoading","loadingUpdate","setLoadingUpdate","error","setError","fetchUser","data","get","headers","Authorization","token","err","submitHandler","e","preventDefault","put","success","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","onSubmit","Group","className","controlId","Label","Control","value","onChange","target","required","Check","type","label","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Users/KALAI/Desktop/Quantum/frontend/src/screens/UserEditScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport Loading from '../components/Loading';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { getError } from '../utils';\r\nimport { useContext } from 'react';\r\nimport { Store } from '../Store';\r\n\r\nexport default function UserEditScreen() {\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const { id: userId } = params;\r\n\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingUpdate, setLoadingUpdate] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { data } = await axios.get(`/api/users/${userId}`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        setName(data.name);\r\n        setEmail(data.email);\r\n        setIsAdmin(data.isAdmin);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(getError(err));\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchUser();\r\n  }, [userId, userInfo]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoadingUpdate(true);\r\n      await axios.put(\r\n        `/api/users/${userId}`,\r\n        { name, email, isAdmin },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      toast.success('User updated successfully');\r\n      navigate('/admin/users');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      setLoadingUpdate(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit User {userId}</h1>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Check\r\n            type=\"checkbox\"\r\n            id=\"isAdmin\"\r\n            label=\"Is Admin\"\r\n            checked={isAdmin}\r\n            onChange={(e) => setIsAdmin(e.target.checked)}\r\n          />\r\n          <div className=\"mt-3\">\r\n            <Button type=\"submit\" disabled={loadingUpdate}>\r\n              Update\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}